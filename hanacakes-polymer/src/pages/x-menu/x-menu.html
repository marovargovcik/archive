<!-- Imports--><link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../shared/style/common-styles.html">
<link rel="import" href="categories/x-menu-cake/x-menu-cake.html">
<link rel="import" href="categories/x-menu-candybar/x-menu-candybar.html">
<link rel="import" href="categories/x-menu-cheesacake/x-menu-cheesecake.html">

<!-- Element -->
<dom-module id="x-menu">
  <template>

    <!-- CSS -->
    <style include="common-styles"></style>
    <style>

      /* Element */
      :host {
        display: block;
      }

      /* Container */
      .container {}

      /* Navigation */
      .navigation  {
        @apply(--layout-horizontal);
        @apply(--layout-around-justified);
        margin: 36px 0 24px;
      }

      /* Item */
      .navigation .item {
        @apply(--layout-vertical);
        @apply(--layout-center);
        color: inherit;
        text-decoration: none;
      }

      /* Svg default fill color */
      .navigation .item svg path {
        fill: var(--text-color);
        transition: .3s;
      }

      /* Text color when hover/active */
      .navigation .item:hover,
      .navigation .item.active {
        color: var(--primary-color);
      }

      /* Svg fill color when hover/active */
      .navigation .item:hover svg path,
      .navigation .item.active svg path {
        fill: var(--primary-color);
      }

      /* Item - Img */
      .navigation .item svg {
        margin-bottom: 12px;
        width: 128px;
      }

      /* Item - Name of link */
      .navigation .item span {
        transition: .1s;
      }

      /*Media queries */
      @media screen and (max-width: 767px) {
        .navigation .item svg {
          width: 88px;
        }
      }

      @media screen and (max-width: 389px) {
        .navigation {
          @apply(--layout-wrap);
        }
        .navigation .item {
          min-width: 50%;
        }
        .navigation .item:last-of-type {
          margin-top: 12px;
        }
      }

    </style>

    <!-- Banner -->
    <div class="banner">
      <h1>Ponuka</h1>
    </div>

    <!-- Container -->
    <div class="container">

      <!-- Navigation -->
      <div class="navigation" id="navigation">

        <!-- Cake -->
        <a href="/ponuka/torta" class="item" data-category="cake">
          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
            <g>
              <g>
                <path d="M503.581,447.667h-28.396V349.17c0-22.047-17.936-39.983-39.983-39.983h-12.327V206.495
                  c0-19.733-16.055-35.788-35.788-35.788h-99.762V88.151c0-4.649-3.769-8.419-8.418-8.419h-14.489V67.156
                  c11.134-3.569,19.218-14.017,19.218-26.321c0-12.899-16.416-31.709-21.447-37.166c-1.594-1.73-3.838-2.713-6.189-2.713
                  c-2.352,0-4.595,0.983-6.189,2.713c-5.031,5.457-21.447,24.267-21.447,37.166c0,12.303,8.084,22.751,19.218,26.321v12.577h-14.489
                  c-4.649,0-8.419,3.769-8.419,8.419v82.556h-99.762c-19.733,0-35.788,16.055-35.788,35.788v74.069c0,4.649,3.769,8.419,8.418,8.419
                  c4.649,0,8.419-3.769,8.419-8.419v-74.069c0-10.449,8.502-18.951,18.951-18.951h262.175c10.449,0,18.951,8.502,18.951,18.951
                  v102.692H97.544H76.797c-22.048,0-39.983,17.936-39.983,39.983v69.082c0,4.649,3.769,8.419,8.418,8.419
                  c4.649,0,8.419-3.769,8.419-8.419v-69.082c0-12.764,10.383-23.146,23.146-23.146h20.745h316.913h20.745
                  c12.764,0,23.146,10.383,23.146,23.146v98.497H45.232H8.419c-4.649,0-8.419,3.769-8.419,8.419
                  c0,30.303,24.654,54.957,54.957,54.957h402.086c30.303,0,54.957-24.654,54.957-54.957
                  C512,451.436,508.231,447.667,503.581,447.667z M245.201,40.834c0-2.897,4.664-10.666,10.799-18.466
                  c6.135,7.8,10.799,15.569,10.799,18.466c0,5.955-4.845,10.799-10.799,10.799C250.045,51.633,245.201,46.789,245.201,40.834z
                   M270.488,170.707h-28.977V96.569h28.977V170.707z M457.043,494.206H54.957c-18.128,0-33.341-12.719-37.183-29.702h27.459h421.534
                  h27.459C490.384,481.487,475.171,494.206,457.043,494.206z"></path>
              </g>
            </g>
            <g>
              <g>
                <path d="M377.719,212.133c-12.217-0.199-20.606,8.066-27.354,14.721c-6.11,6.024-10.159,9.661-14.526,9.543
                  c-4.103-0.12-7.237-3.674-12.009-9.461c-5.593-6.783-12.556-15.224-24.498-15.574c-11.793-0.351-19.563,7.357-26.415,14.151
                  c-6.339,6.286-10.567,10.102-15.818,10.108c-0.003,0-0.006,0-0.009,0c-5.18,0-9.276-3.824-15.401-10.121
                  c-6.456-6.636-14.481-14.884-26.671-14.884c-0.076,0-0.155,0-0.231,0.001c-12.725,0.109-20.916,9.077-27.498,16.284
                  c-5.897,6.458-9.809,10.382-14.351,10.382c-0.008,0-0.015,0-0.022,0c-4.549-0.012-8.369-3.943-14.121-10.413
                  c-6.26-7.043-14.043-15.802-26.151-15.802c-0.046,0-0.093,0-0.14,0c-4.649,0.026-8.397,3.816-8.371,8.466
                  c0.026,4.634,3.789,8.371,8.417,8.371c0.029,0.001,0.058,0.001,0.088,0.001c4.245,0,7.964,3.839,13.574,10.15
                  c6.348,7.142,14.246,16.03,26.659,16.066c0.024,0,0.047,0,0.072,0c12.292,0,20.325-8.794,26.781-15.864
                  c6.112-6.692,10.186-10.759,15.209-10.803c4.884-0.019,8.76,3.693,14.69,9.788c6.597,6.78,14.804,15.216,27.468,15.216
                  c0.008,0,0.018,0,0.026,0c12.555-0.011,20.93-8.316,27.659-14.989c5.804-5.755,9.664-9.279,13.849-9.279
                  c0.073,0,0.146,0.001,0.218,0.002c4.098,0.12,7.23,3.672,12,9.457c5.596,6.784,12.558,15.227,24.505,15.578
                  c11.925,0.378,20.186-7.82,26.843-14.384c6.288-6.201,10.445-9.985,15.235-9.874c4.69,0.064,8.485-3.62,8.566-8.269
                  C386.069,216.049,382.369,212.215,377.719,212.133z"></path>
              </g>
            </g>
            <g>
              <g>
                <path d="M434.651,351.513c-12.574-0.391-20.936,7.93-28.32,15.253c-6.085,6.033-11.341,11.248-17.799,11.29
                  c-5.012-0.109-8.605-3.842-14.035-9.913c-6.203-6.931-13.922-15.558-26.936-15.787c-0.165-0.002-0.328-0.005-0.492-0.005
                  c-12.762,0-21.683,8.797-28.869,15.883c-5.894,5.812-10.978,10.814-16.474,10.67c-4.831-0.141-8.364-4.136-13.728-10.64
                  c-6.019-7.298-13.509-16.381-26.216-16.753c-12.563-0.391-20.937,7.93-28.32,15.253c-6.105,6.055-11.378,11.283-17.866,11.29
                  c-0.003,0-0.008,0-0.011,0c-5.979,0-10.571-4.276-17.42-11.313c-6.96-7.154-15.611-16.045-28.616-16.045
                  c-0.081,0-0.164,0-0.244,0.001c-13.577,0.116-22.41,9.788-29.509,17.56c-6.599,7.226-10.992,11.616-16.288,11.616
                  c-0.009,0-0.018,0-0.027,0c-5.308-0.015-9.6-4.416-16.04-11.66c-6.77-7.617-15.168-17.058-28.171-17.024
                  c-4.649,0.026-8.397,3.816-8.371,8.466c0.026,4.633,3.789,8.371,8.417,8.371c0.019,0.002,0.035,0.002,0.051,0.002
                  c5.022-0.072,9.186,4.278,15.491,11.372c6.84,7.696,15.353,17.275,28.577,17.312c0.027,0,0.052,0,0.08,0
                  c13.096-0.001,21.394-9.084,28.715-17.1c6.832-7.481,11.401-12.027,17.22-12.078c0.031,0,0.063,0,0.093,0
                  c5.501,0,9.934,4.144,16.555,10.95c7.113,7.312,15.965,16.409,29.486,16.409c0.009,0,0.018,0,0.027,0
                  c13.411-0.012,22.446-8.972,29.706-16.171c6.61-6.555,10.954-10.513,15.973-10.38c4.826,0.141,8.357,4.134,13.719,10.635
                  c6.02,7.299,13.512,16.385,26.223,16.757c12.696,0.394,21.24-8.066,28.79-15.511c6.06-5.976,11.276-11.172,17.241-11.033
                  c5.391,0.094,9.093,3.93,14.685,10.18c6.111,6.83,13.717,15.33,26.396,15.52c0.045,0,0.09,0.001,0.135,0.001
                  c13.411-0.012,22.446-8.972,29.706-16.171c6.611-6.555,10.97-10.497,15.973-10.38c4.654,0.143,8.525-3.521,8.661-8.168
                  C442.955,355.526,439.298,351.649,434.651,351.513z"></path>
              </g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            </svg>
          <span>TORTA</span>
        </a>

        <!-- Cheseecake -->
        <a href="/ponuka/cheesecake" class="item" data-category="cheesecake">
          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 269.91 269.911" style="enable-background:new 0 0 269.91 269.911;" xml:space="preserve">
            <g>
              <g>
                <path d="M269.196,121.554c-13.5-25.9-41.1-41.7-66.5-54.1c-25-12.1-38.3-10.4-57.4,0.9c-1.8-2.8-3.899-5.3-6.6-7.1
                  c-4.6-3-10.1-3.2-15.4-2c-0.3-2.3-0.8-4.5-1.3-6.8c-2.6-15.1-12-27.9-24.4-37.6c-5.4-4.3-13,3.3-7.6,7.6
                  c13.2,10.3,21.3,22.6,21.9,39c-5.7,1.3-10.9,4.6-14.3,10.5c-4.4,7.6-6.7,15.3-4.3,22.7c-30.5,11.1-58.2,28.8-86.4,44.799
                  c-2.4,1.4-3,4-2.2,6.301c-7.7,31.199-3.8,62.399-3,94.3c0.1,3.5,2.6,5.6,5.9,5.899c44.3,4.9,88.6,6.4,133.2,7.101
                  c29.7,0.399,62.2,6,91.601,1.6c10.6-1.6,15.6-12,18.899-20.7c12.301-31.899,2.4-69.199,15-101.899c0.301-0.8,0.4-1.6,0.4-2.3
                  C269.597,128.354,270.796,124.654,269.196,121.554z M96.596,101.154c0.3,0.5,0.6,0.9,1,1.4c13.9,16.2,45.2,10.3,51.2-10
                  c1-3.5,1.2-7.4,0.801-11.3c23.1-12.4,39.399-7.3,65.399,6.9c12.9,7,24.3,16,34.9,26c10.7,10.1-32.2,15.1-33.5,15.4
                  c-61.101,11.8-124.701,10.1-186.9,9.5C51.896,126.454,74.496,114.154,96.596,101.154z M218.296,243.454
                  c-14.5,0.2-29.3-1.8-43.699-2.1c-44.701-1.1-89.301-0.8-133.901-3.6c-19.8-1.4-27.9-14.7-30.8-31.801
                  c41.1,13,92.2,16.7,135.3,17.601c31.5,0.7,62.9,3.7,94.1,5.1C236.396,237.154,230.496,243.254,218.296,243.454z M244.597,173.454
                  c-0.7-0.699-1.601-1.199-2.7-1.5c-5.601-2.8-12.9-3.199-18.601-2.1c-0.5,0.1-0.8,0.3-1.199,0.5c-32.2-4.2-73.9,4.8-101.801,3.1
                  c-16.1-1-56.9-8.899-85.9-6.1c-0.6-0.5-1.2-0.9-2-1.1c-6.8-2-13.9-2.301-21-2.301c-0.8,0-1.5,0.2-2.1,0.4
                  c0.3-5.2,0.7-10.3,0.9-14.9c81.2,0.2,162.6,2.801,242-15.899C247.896,146.554,245.896,159.954,244.597,173.454z"></path>
              </g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            </svg>
          <span>CHEESECAKE</span>
        </a>

        <!-- Candybar -->
        <a href="/ponuka/candybar" class="item" data-category="candybar">
          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 209.702 209.701" style="enable-background:new 0 0 209.702 209.701;" xml:space="preserve">
            <g>
              <path d="M167.613,62.763c0-33.989-27.159-61.752-60.914-62.733C106.684,0.028,105.221,0,104.851,0
                C70.244,0,42.088,28.155,42.088,62.762c0,31.433,23.228,57.541,53.42,62.066l-0.001,0.014v81.484c0,1.863,1.511,3.375,3.375,3.375
                h16.303c1.863,0,3.375-1.512,3.375-3.375v-82.314C146.596,117.742,167.613,92.662,167.613,62.763z M104.851,6.751
                c0.44,0,0.878,0.007,1.315,0.017c7.349-0.126,12.13,2.685,17.173,4.824c8.25,3.938,14.316,9.183,19.692,16.07
                c3.452,4.487,5.882,9.129,7.638,14.572c1.689,5.445,2.432,10.56,2.268,15.636c0,0.037-0.002,0.073-0.002,0.109
                c0,10.355-3.254,19.721-9.674,27.839c-3.172,3.872-6.414,6.741-10.492,9.291c-5.922,3.656-12.107,5.685-18.91,6.202
                c-6.909,0.37-12.699-0.709-18.221-3.391c-5.184-2.508-9.412-5.979-13.301-10.92c-5.538-7.459-7.451-15.885-5.521-24.407
                c1.045-4.878,2.936-8.777,5.97-12.289c2.604-3.063,5.697-5.239,10.025-7.049c4.362-1.641,9.044-1.674,14.312-0.1
                c3.837,1.236,6.889,3.671,9.07,7.236c1.553,2.733,3.643,8.012,0.455,12.995c-0.619,0.923-3.699,5.109-7.621,3.563
                c-0.648-0.277-1.127-0.804-1.264-1.164c0.022-0.018,0.043-0.035,0.064-0.051c0.695-0.556,1.842-1.474,2.371-3.115
                c0.699-1.868,0.572-3.913-0.36-5.777c-0.03-0.061-0.063-0.122-0.098-0.181c-2.997-5.178-9.388-5.744-14.166-3.619
                c-4.214,1.895-7.267,6.014-8.597,11.598c-0.017,0.07-0.031,0.141-0.043,0.212c-1.273,7.429,1.583,14.744,7.836,20.071
                c0.03,0.025,0.06,0.051,0.091,0.075c5.907,4.686,13.318,6.467,21.431,5.151c8.641-1.404,15.877-6.443,20.93-14.572
                c0.022-0.036,0.043-0.071,0.064-0.108c4.119-7.207,5.699-14.923,4.697-22.931c-0.797-6.375-3.195-12.19-7.346-17.795
                c-4.535-6.045-9.724-10.289-15.851-12.97c-6.918-3.052-14.135-4.397-21.453-4.004c-0.026,0.001-0.051,0.003-0.077,0.005
                c-8.081,0.621-15.278,2.979-21.996,7.201c-4.479,2.799-8.346,6.282-12.166,10.95c-5.085,6.174-8.338,13.262-10.547,22.979
                c-0.008,0.035-0.016,0.071-0.022,0.107c-1.06,5.474-1.125,10.803-0.22,17.818c0.002,0.018,0.005,0.037,0.008,0.055
                c0.718,4.925,2.107,9.601,4.248,14.233c-4.905-8.322-7.725-18.014-7.725-28.354C48.838,31.878,73.966,6.751,104.851,6.751z
                 M111.811,202.953h-9.553v-77.484c0.861,0.034,1.724,0.057,2.593,0.057c0.151,0,0.3-0.004,0.451-0.006
                c0.038,0.004,0.076,0.008,0.114,0.012c0.099,0.008,0.196,0.012,0.292,0.012c0.154,0,0.305-0.014,0.453-0.033
                c1.904-0.039,3.789-0.166,5.65-0.371V202.953z M105.623,118.766c-7.596-0.636-11.502-2.051-16.937-4.504
                c-7.989-3.648-14.378-8.758-20.101-16.077c-5.486-7.58-8.445-14.445-9.587-22.247c-0.812-6.305-0.77-10.829,0.145-15.59
                c1.963-8.611,4.79-14.821,9.17-20.139c3.392-4.145,6.638-7.078,10.534-9.513c5.764-3.623,11.943-5.647,18.89-6.188
                c6.234-0.331,12.398,0.827,18.335,3.445c5.041,2.206,9.348,5.752,13.153,10.824c3.477,4.695,5.402,9.333,6.061,14.598
                c0.824,6.599-0.428,12.713-3.83,18.69c-3.99,6.392-9.607,10.341-16.246,11.42c-6.254,1.016-11.674-0.243-16.108-3.74
                c-4.332-3.713-6.344-8.679-5.533-13.649c0.602-2.461,1.916-5.614,4.76-6.893c1.597-0.71,4.352-1.082,5.509,0.74
                c0.051,0.123,0.064,0.224,0.04,0.302c-0.081,0.068-0.185,0.152-0.27,0.22c-0.581,0.465-1.459,1.168-2.04,2.333
                c-0.048,0.096-0.092,0.195-0.131,0.296c-1.662,4.319,1.245,8.524,5.015,10.095c0.016,0.006,0.029,0.012,0.044,0.018
                c5.62,2.245,11.815-0.147,15.784-6.1c0.01-0.015,0.021-0.031,0.031-0.047c3.762-5.851,3.66-13.162-0.281-20.058
                c-0.016-0.027-0.031-0.054-0.047-0.08c-3.016-4.953-7.451-8.481-12.831-10.204c-0.021-0.006-0.04-0.013-0.06-0.019
                c-6.682-2.004-12.981-1.915-18.727,0.263c-0.034,0.013-0.068,0.026-0.101,0.041c-5.317,2.215-9.328,5.053-12.605,8.91
                c-3.787,4.384-6.152,9.235-7.436,15.228c-2.373,10.479-0.048,20.827,6.724,29.925c0.018,0.023,0.035,0.047,0.053,0.069
                c4.492,5.718,9.626,9.925,15.692,12.859c6.599,3.205,13.452,4.49,21.563,4.057c0.024-0.002,0.049-0.004,0.071-0.006
                c7.921-0.595,15.112-2.947,22.002-7.201c4.69-2.931,8.558-6.354,12.173-10.772c0.012-0.014,0.023-0.028,0.034-0.042
                c7.386-9.33,11.138-20.095,11.147-31.995c0.095-3.028-0.094-6.057-0.561-9.138c1.135,4.437,1.738,9.083,1.738,13.868
                C160.863,93.39,136.153,118.352,105.623,118.766z"></path>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            </svg>
          <span>CANDYBAR</span>
        </a>

      </div>

      <!-- Pages -->
      <iron-pages attr-for-selected="data-category" selected="[[category]]">

        <!-- Cake -->
        <x-menu-cake data-category="cake"></x-menu-cake>

        <!-- Cheesecake -->
        <x-menu-cheesecake data-category="cheesecake"></x-menu-cheesecake>

        <!-- Candybar -->
        <x-menu-candybar data-category="candybar" pricing-list-url="[[pricingListUrl]]"></x-menu-candybar>

      </iron-pages>

    </div>

    <!-- Featured content -->
    <div class="featured">
      <h2>Kompletný cenník na stiahnutie nájdeš <a href$="[[pricingListUrl]]" target="_blank">TU</a></h2>
      <p>Objednaj si svoju pochúťku</p>
      <a href="/objednavka" class="hana-button">OBJEDNAŤ U HANY</a>
    </div>

  </template>
  <script>(function () {
  'use strict';

  Polymer({
    /**
     * Element configuration (is, behaviors, properties, observers).
     */
    is: 'x-menu',
    behaviors: [],
    properties: {
      category: {
        type: String
      },
      pricingListUrl: {
        type: String
      },
      route: {
        type: Object
      }
    },
    listeners: {},
    observers: ['_categoryChanged(category)', '_routeDataChanged(route)'],
    attached: function () {
      firebase.database().ref('pricingListUrl').once('value').then(function (url) {
        this.pricingListUrl = url.val();
      }.bind(this));
    },
    _categoryChanged: function (category) {
      Polymer.dom(this.$.navigation).querySelectorAll('.item').forEach(function (item) {
        if (item.dataset.category === category) {
          item.classList.add('active');

          if (category === 'cheesecake') {
            firebase.database().ref('cheesecakeListUrl').once('value').then(function (url) {
              this.pricingListUrl = url.val();
            }.bind(this));
          } else {
            firebase.database().ref('pricingListUrl').once('value').then(function (url) {
              this.pricingListUrl = url.val();
            }.bind(this));
          }
        } else {
          item.classList.remove('active');
        }
      }.bind(this));
    },
    _routeDataChanged: function (route) {
      if (route.prefix === '/ponuka') {
        switch (route.path) {
          case '/torta':
            this.category = 'cake';
            break;

          case '/cheesecake':
            this.category = 'cheesecake';
            break;

          case '/candybar':
            this.category = 'candybar';
            break;

          default:
            this.category = 'home';
        }
      } else {
        this.category = 'home';
      }
    }
  });
})();</script>
</dom-module>
